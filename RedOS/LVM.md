Задача:
 - На RTR2 сконфигурируйте LVM
 - Используйте два неразмеченных жестких диска.
 - Создайте группу логических томов VG
 - Создайте логический том DATA
 - Используйте 100% дискового пространства
 - Используйте файловую систему ext4.
 - Настройте автоматическое монтирование тома
 - Точка монтирования /opt/data

Помечаем диски, что они будут использоваться для LVM:

```bash
pvcreate /dev/sdb /dev/sdc
```

![screen1](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/29.png)

>[!NOTE]
>Посмотреть, что диск может использоваться LMV можно командой:
> ```bash
>pvdisplay 
>```

![screen2](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/30.png)

>[!NOTE]
>где:
> - PV Name — имя диска.
> - VG Name — группа томов, в которую входит данный диск (в нашем случае пусто, так как мы еще не добавили его в группу).
> - PV Size — размер диска.
> - Allocatable — распределение по группам. Если NO, то диск еще не задействован и его необходимо для использования включить в группу.
> - PE Size — размер физического фрагмента (экстента). Пока диск не добавлен в группу, значение будет 0.
> - Total PE — количество физических экстентов.
> - Free PE — количество свободных физических экстентов.
> - Allocated PE — распределенные экстенты.
> - PV UUID — идентификатор физического раздела.

>[!NOTE]
>Инициализированные на первом этапе диски должны быть объединены в группы.

```bash
vgcreate vg01 /dev/sdb /dev/sdc
```

![screen3](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/31.png)

>[!NOTE]
>где: 
> - vg01 - произвольное (необходимое по заданию) имя группы

>[!NOTE]
> Просмотреть информацию о созданных группах можно командой:
>```bash 
>vgdisplay
>```

![screen4](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/32.png)

>[!NOTE]
>где:
> - VG Name — имя группы.
> - Format — версия подсистемы, используемая для создания группы.
> - Metadata Areas — область размещения метаданных. Увеличивается на единицу с созданием каждой группы.
> - VG Access — уровень доступа к группе томов.
> - VG Size — суммарный объем всех дисков, которые входят в группу.
> - PE Size — размер физического фрагмента (экстента).
> - Total PE — количество физических экстентов.
> - Alloc PE / Size — распределенное пространство: колическтво экстентов / объем.
> - Free PE / Size — свободное пространство: колическтво экстентов / объем.
> - VG UUID — идентификатор группы.

Последний этап — создание логического раздела из группы томов

```bash
lvcreate -l 100%FREE -n DATA vg01
```

>[!NOTE]
>где:
> - -l 100%FREE – создание логического тома, используя все свободное пространство группы томов.
>
>  ещё варианты записи:
> - -L 1G: том на 1 гб
> - -L50: том на 50мб
> - -l 40%VG использовать 40% от дискового пространства группы

>[!NOTE]
> Посмотрим информацию о созданном томе:
> ```bash
>lvdisplay
>```

![screen5](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/33.png)

>[!NOTE]
> - LV Path — путь к устройству логического тома.
> - LV Name — имя логического тома.
> - VG Name — имя группы томов.
> - LV UUID — идентификатор.
> - LV Write Access — уровень доступа.
> - LV Creation host, time — имя компьютера и дата, когда был создан том.
> - LV Size — объем дискового пространства, доступный для использования.
> - Current LE — количество логических экстентов.

>[!NOTE]
>Чтобы начать использовать созданный том, необходимо его отформатировать, создав файловую систему и примонтировать раздел в каталог

Создадим файловую систему ext4:

```bash
mkfs.ext4 /dev/vg01/DATA
```

Далее необходимо создать точку монтирования

```bash
mkdir /opt/data
```

После этого необходимо добавить запись в файл /etc/fstab:

```bash
vim /etc/fstab
```

![screen6](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/34.png)

Применяем монтирование и проверяем результат:

```bash
mount -av
```

![screen7](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/35.png)

```bash
lsblk
```

![screen8](https://github.com/zurabchiks/SPb-RCH2024/blob/main/RedOS/Pic/36.png)

